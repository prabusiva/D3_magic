<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Plotting</title>
        <script type="text/javascript" src="./d3.js"></script>
        <style type="text/css">
                div.bar {
                	display: inline-block;
                	width: 20px;
                	height: 75px; /* We'll override height later */
                	margin-right: 2px;
                	background-color: orange;
                }
	</style>
    </head>
    <body>
    	<script type="text/javascript">
            d3.select("body").append("p").text("Test New paragraph!");         
        </script>
        
        Hello <br/><br/>
        
        <div style="display: inline-block; 
				width: 20px;
				height: 75px;
				background-color: teal;"></div> <!--  Fig 6-1 -->

	 	<div class="bar"></div> <!--  calls div info from class: div.bar -->
	
		<div id="simple_bars">
			<h2>bars</h2>
		</div>
		<div id="simple_bar_chart">
			<h2>Simple bar chart</h2>
		</div>
		<div id="chartContainer">
			<h2>Circles</h2>
		</div>
		<div id="bar_chart2">
			<h2>Blue bar chart</h2>
		</div>

		<br/><br/>
		
		<script type="text/javascript">
		
		var w = 600;
		var h = 100;
		
		// Create SVG element
		var svg = d3.select("#chartContainer")
				.append("svg")
				.attr("width", w)
				.attr("height", h);
				
		
		var dataset = [ 5, 10, 15, 20, 25 ];
		var dataset = [ 25, 7, 5, 26, 11 ];
		var dataset = [ 25, 7, 5, 26, 11, 8, 25, 14, 23, 19,
					14, 11, 22, 29, 11, 13, 12, 17, 18, 10,
					24, 18, 25, 9, 3 ];
		/* 
		var dataset = [];  			    			// Initialize empty array
		for (var i = 0; i < 25; i++) {			 	// Loop 25 times
			var newNumber = Math.random() * 30;  	// New random number (0-30)
			//var newNumber = Math.floor(Math.random() * 30);
			dataset.push(newNumber);			// Add new number to array
		}
		*/
			d3.select("#simple_bars").selectAll("div") // Fig 6-2
						.data(dataset)
						.enter()
						.append("div")
						.attr("class", "bar")
						.style("background-color", "blue");
						// .classed("bar", true); // apply or remove classes from elements.
			
					
		d3.select("#simple_bar_chart").selectAll("div")  // still haven't figured how to plot multiple graphs 
					.data(dataset)       // on new line
					.enter()		    // Fig 6-5
					.append("div")
					.attr("class", "bar")
					.style("height", function(d) {
						return (d*5) + "px";
					}); 
		
		// SVG
		// Data
		var dataset = [ 5, 10, 15, 20, 25 ];
		var w = 500;
		var h = 170;
					
		var circles = svg.selectAll("circle")
					.data(dataset)
					.enter()
					.append("circle");

		circles.attr("cx", function(d, i) {return (i * 50) + 25;})
			.attr("cy", h/2)
			.attr("r", function(d) {return d;})
			.attr("fill", "yellow")
			.attr("stroke", "orange")
			.attr("stroke-width", function(d) {return d/2;}); // Fig. 6-12
			
		
		var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13, 11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];
		
		d3.select("body").selectAll("div")
					.data(dataset)
					.enter()
					.append("div")
					.attr("class", "bar")
					.style("height", function(d) { return d * 5 + "px"; });
		
		//var w = 500;
		//var h = 170;
		var barPadding = 1;
		
		svg.selectAll("rect")
			.data(dataset)
			.enter()
			.append("rect")
			.attr("fill", function(d) {
				return "rgb(0, 0, " + Math.round(d * 10) + ")";
			}) // .attr("fill", "red")
			.attr("x", function(d, i) { return i * (w / dataset.length); }) // .attr("x", 0)
			.attr("y", function(d) { return h - (d * 5) ; }) // Height minus data value // .attr("y", 0)
			.attr("width", w / dataset.length - barPadding) // .attr("width", 20)
			.attr("height", function(d) { return d * 5; }); // .attr("height", 100);
			
		svg.selectAll("text")
		.data(dataset)
		.enter()
		.append("text")
		.text(function(d) { return d; })
		.attr("x", function(d, i) { return i * (w / dataset.length) + 5; })
		.attr("y", function(d) { return h - (d * 5) + 16; })
		.attr("font-family", "sans-serif")
		.attr("font-size", "11px")
		.attr("fill", "white");
				
		var dataset = [
					[5, 20], [480, 90], [250, 50], [100, 33], [330, 95],
					[410, 12], [475, 44], [25, 67], [85, 21], [220, 88]
				];
		
		svg.selectAll("circle")
				.data(dataset)
				.enter()
				.append("circle")
				.attr("cx", function(d) {
						return d[0] + 10;
				})
				.attr("cy", function(d) {
						return d[1];
				})
				.attr("r", function(d) {
						return Math.sqrt(h - d[1]);
				});
		
		svg.selectAll("text")
				.data(dataset)
				.enter()
				.append("text")
				.text(function(d) {
						return d[0] + "," + d[1];
				})
				.attr("x", function(d) {
						return d[0]+20;
				})
				.attr("y", function(d) {
						return d[1];
				})
				.attr("font-family", "sans-serif")
				.attr("font-size", "11px")
				.attr("fill", "red"); //Fig. 6-34

			
		</script>

    </body>
</html>


<!--
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Population Projection</title>

    <link rel="stylesheet" href="main.css">

</head>

<body>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="https://raw.github.com/mbostock/d3/master/d3.v2.min.js"></script>
    <script type="module">
    	import * as d3 from "https://cdn.skypack.dev/d3@7";
    	const div = d3.selectAll("div");
    </script>
    <script src="script.js"></script>

</body>
</html>

-->
